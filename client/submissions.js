(function(){function e(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(e,t){if(e.hasAttribute)return e.hasAttribute(t);var n=e.getAttributeNode(t);return!(!n||!n.specified)}function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){n.call(e,event)})}function r(e,t){return!!~e.indexOf(t)}function i(){for(var e,t,n=document.scripts,r=0,i="/";e=n[r++];)if(t=e.src,t&&"/submissions.js"===t.slice(t.length-15)){i=t.slice(0,t.length-14);break}return i+"f/"}function o(e,t,n){function i(e){u||(u=!0,n(e,o.responseText))}e+=(r(e,"?")?"&":"?")+"xhr";var o=new l;o.open("POST",e,!0),o.setRequestHeader?o.setRequestHeader("Content-Type","application/json"):e+="&type=json";var u=!1;o.onerror=i,o.onload=i,o.onreadystatechange=function(){return 4===o.readyState?200!==o.status?i(Error("Unexpected status code; "+o.status)):(i(),void 0):void 0},o.send(t)}function u(e){a(e)}function a(e){alert(e)}function c(e){var t=this,n=JSON.stringify(f(t));o(t.action,n,function(e,t){if(e)return u(e);try{t=JSON.parse(t)}catch(e){return u(e)}return t.error?u(t.error):(a(t.message),void 0)}),e.preventDefault()}function s(){for(var e,t=i(),r=document.getElementsByTagName("form"),o=0;e=r[o++];)e.action.slice(0,t.length)===t&&n(e,"submit",c)}var f=function(){function n(e){return t(e,"value")?e.value:e.text}function i(e){var t=e.selectedIndex;return t>=0?n(e.options[t]):null}function o(e){var t=e.length;if(!t)return null;for(var r=0,i=[];t>r;r++){var o=e.options[r];o.selected&&i.push(n(o))}return i}var u=["INPUT","TEXTAREA","SELECT"];return function(t){var n,a,c,s,f,l=t.getElementsByTagName("*"),d={};for(a=0;n=l[a];a++)f=n.type,c=n.name,r(u,n.tagName)&&!n.disabled&&c&&"file"!==f&&"submit"!==f&&(s="checkbox"===f||"radio"===f?n.checked?n.value:null:"select-one"===f?i(n):"select-multiple"===f?o(n):n.value,null!==s&&void 0!==s&&(c in d?(e(d[c])||(d[c]=[d[c]]),d[c].push(s)):d[c]=s));return d}}(),l=function(){if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.XDomainRequest)return window.XDomainRequest;if(window.ActiveXObject){for(var e,t,n=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],r=0;n.length>r;r++)try{e=n[r],t=new window.ActiveXObject(e);break}catch(i){}if(!t)return;return function(){if(t){var n=t;return t=null,n}return new window.ActiveXObject(e)}}}();l&&n(window,"load",s)})();